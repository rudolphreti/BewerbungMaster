@page "/"
@using BewerbungMasterApp.Components.Pages
@inherits HomeBase

<div class="container my-5">
    <h3 class="text-center mb-4">Job Applications List</h3>
    
    @* Sprawdź, czy lista jobApplications jest nullem *@
    @if (jobApplications == null)
    {
        <p class="text-center">Loading data...</p>
    }
    @* Sprawdź, czy lista jobApplications jest pusta *@
    else if (jobApplications.Count == 0)
    {
        <p class="text-center">No applications available.</p>
    }
    @* Wyświetl listę aplikacji *@
    else
    {
        <div class="table-responsive mx-auto" style="max-width: 100%;">
            <table class="table table-striped table-bordered table-hover">
                <thead class="table-dark">
                    <tr>
                        <th scope="col" class="text-center">#</th>
                        <th scope="col" class="text-center">Position</th>
                        <th scope="col" class="text-center">Company</th>
                        <th scope="col" class="text-center">URL</th>
                    </tr>
                </thead>
                <tbody>
                    @{
                        int index = 1;  @* Inicjalizacja indeksu dla numeracji *@
                    }
                    @foreach (var job in jobApplications)
                    {
                        <tr>
                            <td class="text-center">@index</td>  @* Wyświetlanie liczby porządkowej *@
                            <td class="text-center text-wrap">@job.Position</td>
                            <td class="text-center text-wrap">@job.Company</td>
                            <td class="text-center">
                                <a href="@job.URL" target="_blank" class="btn btn-primary btn-sm">Link</a>
                            </td>
                        </tr>
                        index++;  @* Zwiększenie indeksu po każdej iteracji *@
                    }
                </tbody>
            </table>
        </div>
    }
</div>
